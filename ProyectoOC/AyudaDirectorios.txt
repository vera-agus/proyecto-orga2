#include <stdio.h>
#include <stdlib.h>
#include <dirent.h>
#define MAX_BUF 200

int main() {
  char cadena[MAX_BUF]="C:\\Users\\mlpro\\Downloads\\Dir";
  DIR *dir;
  struct dirent *ent;

    dir = opendir (cadena);
    printf("El directorio es: %s\n",cadena);
    printf("y su contenido...\n");
    if (dir != NULL){
            ent = readdir (dir);
        while (ent!= NULL) {
            // Verifica que el archivo a procesar no es invalido
            if ( (strcmp(ent->d_name, ".")!=0)
                && (strcmp(ent->d_name, "..")!=0)){

                    printf("%s\n",ent->d_name);

                }
              ent = readdir (dir);
        }

        closedir (dir);
        return 0;
    }
    else {
        perror("No se pudo acceder al directorio");
        return 1;
    }


    return 0;
}
